---
import PageLayout from '../../layouts/PageLayout.astro';
import { phases, roles, shifts } from '../../data/liftFramework';
import { frameworks } from '../../data/messaging';
---

<PageLayout
  title="The Lift"
  description={`A framework for ${frameworks.lift.tagline.toLowerCase().replace(/\.$/, '')}. Seven phases, four roles, and a methodology called Encoding Intent. No Human Left Behind.`}
>
  <article class="lift">
    <!-- Hero -->
    <section class="lift-hero section-cream section" aria-labelledby="lift-heading">
      <div class="container container-narrow">
        <p class="label label-gold">The Framework</p>
        <h1 id="lift-heading" class="lift-title">The Lift</h1>
        <p class="lift-lede">
          {frameworks.lift.tagline}
        </p>
        <p class="lift-core">
          AI handles the repetitive work. That gives us time to elevate the
          ideas, the quality, and the craft of what we build.
        </p>
      </div>
    </section>

    <!-- Phases Stepper -->
    <section class="section-cream section" aria-labelledby="phases-heading">
      <div class="container">
        <p class="label label-gold">The Phases</p>
        <h2 id="phases-heading" class="lift-section-heading">
          Seven phases. Trust comes first.
        </h2>
        <ol class="phases" role="list">
          {phases.map(({ number, name, summary, building }) => (
            <li class="phase reveal">
              <div class="phase-number" aria-hidden="true">{number}</div>
              <div class="phase-content">
                <h3 class="phase-name">Phase {number}: {name}</h3>
                <p class="phase-summary">{summary}</p>
                <p class="phase-building">
                  <strong>What you're building:</strong> {building}
                </p>
              </div>
            </li>
          ))}
        </ol>
      </div>
    </section>

    <!-- Encoding Intent -->
    <section class="section-dark section" aria-labelledby="intent-heading">
      <div class="container container-narrow">
        <p class="label intent-label">The Methodology</p>
        <h2 id="intent-heading" class="lift-section-heading intent-heading">
          Encoding Intent
        </h2>
        <div class="prose intent-prose">
          <p class="intent-lead">
            Plan first. Prompt second.
          </p>
          <p>
            Before AI writes a single line of code, it needs to understand:
            who you are, how you work, what quality looks like, the patterns
            you trust, and the standards you won't compromise.
          </p>
          <p>
            In practice, this means skill files, instruction files, and
            configuration that capture your team's voice, standards, and
            decision-making patterns. The knowledge that lives in people's
            heads gets written down, shared, and made available to AI as
            context. The encoding process itself becomes a collaborative act:
            teams articulate what they know together.
          </p>
          <ol class="intent-steps">
            <li><strong>Define the structure.</strong> Architecture, patterns, boundaries.</li>
            <li><strong>Set the standards.</strong> Quality bar, testing requirements, style.</li>
            <li><strong>Build the infrastructure.</strong> CI/CD, validation, governance.</li>
            <li><strong>Encode the intent.</strong> Skill files, instruction files, configs, guardrails, planning prompts.</li>
            <li><strong>Then let AI build.</strong> Inside the structure, following the intent.</li>
          </ol>
          <p class="intent-closing">
            More time in planning and encoding = less time debugging and fixing.
            The human stays in control because the structure holds. Speed comes
            from automation. Direction comes from intent.
          </p>
          <a href="/writing/dispatch-4-encoding-intent-in-practice" class="intent-callout">
            See it in practice: how this site was built with 15 skill files and zero vibes.
          </a>
        </div>
      </div>
    </section>

    <!-- Roles -->
    <section class="section-cream section" aria-labelledby="roles-heading">
      <div class="container">
        <p class="label label-gold">The Roles</p>
        <h2 id="roles-heading" class="lift-section-heading">
          Four roles. Everyone has a place.
        </h2>
        <div class="roles-grid">
          {roles.map(({ title, who, does: roleAction, shift, human }) => (
            <div class="role-card-full">
              <h3 class="role-card-title">{title}</h3>
              <p class="role-card-who">{who}</p>
              <p class="role-card-does">{roleAction}</p>
              <div class="role-card-footer">
                <p class="role-card-shift">
                  <span class="role-card-shift-label">Mindset shift:</span> {shift}
                </p>
                <p class="role-card-human">{human}</p>
              </div>
            </div>
          ))}
        </div>
      </div>
    </section>

    <!-- The Shift Table -->
    <section class="section-dark section" aria-labelledby="shift-heading">
      <div class="container">
        <p class="label shift-label">The Shift</p>
        <h2 id="shift-heading" class="lift-section-heading shift-heading">
          What changes when you adopt The Lift
        </h2>
        <div class="shift-table-wrap">
          <table class="shift-table" role="table">
            <thead>
              <tr>
                <th scope="col">Without The Lift</th>
                <th scope="col" class="col-after">With The Lift</th>
              </tr>
            </thead>
            <tbody>
              {shifts.map(({ before, after }) => (
                <tr>
                  <td class="cell-before">{before}</td>
                  <td class="cell-after">{after}</td>
                </tr>
              ))}
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Closing CTA -->
    <section class="section-gold section" aria-labelledby="lift-cta-heading">
      <div class="container container-narrow text-center">
        <h2 id="lift-cta-heading" class="lift-cta-text">
          No Human Left Behind.
        </h2>
        <p class="lift-cta-sub">
          {frameworks.lift.tagline} This is the work.
        </p>
        <a href="/connect" class="lift-cta-btn">
          Get in touch
        </a>
      </div>
    </section>
  </article>
</PageLayout>

<style>
  .lift-title {
    font-family: var(--font-heading);
    font-size: var(--text-hero);
    line-height: 1;
    letter-spacing: -0.03em;
    margin-top: var(--space-xs);
    margin-bottom: var(--space-md);
  }

  .lift-lede {
    font-size: var(--text-xl);
    color: var(--color-text-secondary);
    line-height: 1.5;
    max-width: 36rem;
    margin-bottom: var(--space-sm);
  }

  .lift-core {
    font-size: var(--text-lg);
    color: var(--color-text-secondary);
    line-height: 1.6;
    max-width: 36rem;
  }

  .lift-section-heading {
    font-size: var(--text-3xl);
    margin-top: var(--space-xs);
    margin-bottom: var(--space-md);
    max-width: 28rem;
  }

  /* ---- Encoding Intent (dark section) ---- */

  .intent-label {
    color: var(--color-gray-light);
  }

  .intent-heading {
    color: var(--color-cream);
  }

  .intent-prose {
    color: var(--color-gray-light);
  }

  .intent-lead {
    font-size: var(--text-xl);
    color: var(--color-cream);
    font-family: var(--font-heading);
    font-weight: 700;
  }

  .intent-steps {
    list-style: decimal;
    padding-left: var(--space-md);
    color: var(--color-gray-light);
  }

  .intent-steps li {
    padding-left: var(--space-3xs);
    margin-top: var(--space-xs);
  }

  .intent-steps strong {
    color: var(--color-cream);
  }

  .intent-closing {
    margin-top: var(--space-lg);
    font-size: var(--text-lg);
    color: var(--color-cream);
  }

  .intent-callout {
    display: inline-block;
    margin-top: var(--space-lg);
    font-size: var(--text-sm);
    font-weight: 600;
    color: var(--color-gold);
    text-decoration: none;
    border: 1px solid var(--color-gold);
    border-radius: var(--radius-sm);
    padding: 0.6em 1.2em;
    transition: background-color var(--duration-fast),
                color var(--duration-fast);
  }

  .intent-callout:hover {
    background: var(--color-gold);
    color: var(--color-black);
  }

  /* ---- Shift (dark section) ---- */

  .shift-label {
    color: var(--color-gray-light);
  }

  .shift-heading {
    color: var(--color-cream);
  }

  /* ---- Shift Table ---- */

  .shift-table-wrap {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }

  .shift-table {
    width: 100%;
    max-width: 52rem;
    font-size: var(--text-sm);
    border-collapse: collapse;
  }

  .shift-table th {
    text-align: left;
    font-weight: 600;
    font-size: var(--text-xs);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    padding: var(--space-xs) var(--space-sm);
    color: var(--color-gray);
    border-bottom: 2px solid var(--color-gray);
  }

  .col-after {
    color: var(--color-gold) !important;
    border-bottom-color: var(--color-gold) !important;
  }

  .shift-table td {
    padding: var(--space-xs) var(--space-sm);
    border-bottom: 1px solid rgba(245, 243, 238, 0.08);
    vertical-align: top;
    line-height: 1.5;
  }

  .cell-before {
    color: var(--color-gray);
  }

  .cell-after {
    color: var(--color-cream);
    font-weight: 500;
  }

  /* ---- Phases ---- */

  .phases {
    max-width: 40rem;
    position: relative;
  }

  .phase {
    display: grid;
    grid-template-columns: 4rem 1fr;
    gap: var(--space-md);
    padding-bottom: var(--space-xl);
    position: relative;
  }

  .phase:not(:last-child)::before {
    content: '';
    position: absolute;
    left: 2rem;
    top: 4rem;
    bottom: 0;
    width: 1px;
    background: var(--color-gray-border);
  }

  .phase-number {
    font-family: var(--font-heading);
    font-size: var(--text-3xl);
    font-weight: 700;
    color: var(--color-gold-dark);
    line-height: 1;
    text-align: center;
    padding-top: 0.1em;
  }

  .phase-name {
    font-family: var(--font-heading);
    font-size: var(--text-xl);
    font-weight: 700;
    margin-bottom: var(--space-2xs);
  }

  .phase-summary {
    font-size: var(--text-base);
    color: var(--color-text-secondary);
    line-height: 1.6;
    margin-bottom: var(--space-xs);
  }

  .phase-building {
    font-size: var(--text-sm);
    color: var(--color-gold-dark);
  }

  .phase-building strong {
    font-weight: 600;
  }

  /* ---- Roles ---- */

  .roles-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-md);
  }

  .role-card-full {
    padding: var(--space-md) var(--space-lg);
    border: 1px solid var(--color-gray-border);
    border-radius: var(--radius-lg);
    display: flex;
    flex-direction: column;
    transition: border-color var(--duration-fast);
  }

  .role-card-full:hover {
    border-color: var(--color-gold);
  }

  .role-card-title {
    font-family: var(--font-heading);
    font-size: var(--text-2xl);
    font-weight: 700;
    margin-bottom: var(--space-3xs);
  }

  .role-card-who {
    font-size: var(--text-sm);
    color: var(--color-text-secondary);
    margin-bottom: var(--space-sm);
  }

  .role-card-does {
    font-size: var(--text-base);
    line-height: 1.6;
    color: var(--color-text);
    margin-bottom: var(--space-md);
    flex: 1;
  }

  .role-card-footer {
    border-top: 1px solid var(--color-gray-border);
    padding-top: var(--space-sm);
  }

  .role-card-shift {
    font-size: var(--text-sm);
    font-weight: 500;
    color: var(--color-gold-dark);
    margin-bottom: var(--space-2xs);
  }

  .role-card-shift-label {
    color: var(--color-text-secondary);
    font-weight: 400;
  }

  .role-card-human {
    font-size: var(--text-sm);
    color: var(--color-text-secondary);
    line-height: 1.5;
  }

  /* ---- CTA ---- */

  .lift-cta-text {
    font-family: var(--font-heading);
    font-size: var(--text-4xl);
    color: var(--color-black);
    margin-bottom: var(--space-sm);
  }

  .lift-cta-sub {
    font-size: var(--text-xl);
    color: rgba(26, 26, 26, 0.7);
    margin-bottom: var(--space-lg);
  }

  .lift-cta-btn {
    display: inline-flex;
    align-items: center;
    font-weight: 600;
    font-size: var(--text-base);
    color: var(--color-black);
    text-decoration: none;
    padding: 0.75em 2em;
    border: 2px solid var(--color-black);
    border-radius: var(--radius-sm);
    transition: background-color var(--duration-fast),
                color var(--duration-fast);
  }

  .lift-cta-btn:hover {
    background: var(--color-black);
    color: var(--color-gold);
  }

  @media (max-width: 768px) {
    .roles-grid {
      grid-template-columns: 1fr;
    }

    .phase {
      grid-template-columns: 2.5rem 1fr;
      gap: var(--space-sm);
    }

    .phase-number {
      font-size: var(--text-2xl);
    }

    .phase:not(:last-child)::before {
      left: 1.25rem;
      top: 3rem;
    }
  }

  @media (max-width: 480px) {
    .phase {
      grid-template-columns: 1fr;
      gap: 0;
      padding-left: var(--space-md);
      border-left: 1px solid var(--color-gray-border);
    }

    .phase:not(:last-child)::before {
      display: none;
    }

    .phase-number {
      font-size: var(--text-xl);
      text-align: left;
      margin-bottom: var(--space-3xs);
    }
  }
</style>

<script>
  import { initRevealAnimations } from '../../utils/reveal';
  initRevealAnimations({ threshold: 0.1, rootMargin: '0px 0px -30px 0px' });
</script>
