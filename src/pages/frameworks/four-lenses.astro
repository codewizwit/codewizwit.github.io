---
import PageLayout from '../../layouts/PageLayout.astro';
import { lenses } from '../../data/fourLenses';
---

<PageLayout
  title="The Four Lenses"
  description="A responsible AI assessment framework for evaluating AI tools through four accountability lenses: Developer Experience, Equity, Culture, and Transparency."
>
  <article class="lenses">
    <!-- Hero -->
    <section class="section-cream section" aria-labelledby="lenses-heading">
      <div class="container container-narrow">
        <p class="label label-gold">Responsible AI Framework</p>
        <h1 id="lenses-heading" class="lenses-title">The Four Lenses</h1>
        <p class="lenses-lede">
          A framework for evaluating AI tools through the lens of the people
          who use them. Real questions that surface real impact.
        </p>
      </div>
    </section>

    <!-- The Four Lenses -->
    {lenses.map(({ number, name, core, questions, redFlags }) => (
      <section
        class={`section ${number % 2 === 0 ? 'section-dark' : 'section-cream'}`}
        aria-labelledby={`lens-${number}-heading`}
      >
        <div class="container container-narrow">
          <div class="lens-header">
            <span class="lens-number">Lens {number}</span>
            <h2 id={`lens-${number}-heading`} class={`lens-name ${number % 2 === 0 ? 'lens-name-light' : ''}`}>
              {name}
            </h2>
            <p class={`lens-core ${number % 2 === 0 ? 'lens-core-light' : ''}`}>{core}</p>
          </div>

          <div class="lens-content">
            <div class="lens-col">
              <h3 class={`lens-subhead ${number % 2 === 0 ? 'lens-subhead-light' : ''}`}>Questions to ask</h3>
              <ul class={`lens-list ${number % 2 === 0 ? 'lens-list-light' : ''}`}>
                {questions.map((q) => (
                  <li>{q}</li>
                ))}
              </ul>
            </div>

            <div class="lens-col">
              <h3 class={`lens-subhead lens-subhead-warn ${number % 2 === 0 ? 'lens-subhead-light' : ''}`}>Red flags</h3>
              <ul class={`lens-list lens-list-warn ${number % 2 === 0 ? 'lens-list-light' : ''}`}>
                {redFlags.map((f) => (
                  <li>{f}</li>
                ))}
              </ul>
            </div>
          </div>
        </div>
      </section>
    ))}

    <!-- The Principle -->
    <section class="section-gold section" aria-labelledby="principle-heading">
      <div class="container container-narrow principle-container">
        <h2 id="principle-heading" class="principle-text">
          AI tools should enhance developers and their judgment.
        </h2>
        <p class="principle-sub">
          If a tool fails any lens, it's not ready. Redesign it. Pilot it.
          Collect feedback. Iterate. The humans come first.
        </p>
      </div>
    </section>

    <!-- How to Use -->
    <section class="section-cream section" aria-labelledby="usage-heading">
      <div class="container container-narrow">
        <p class="label label-gold">In Practice</p>
        <h2 id="usage-heading" class="usage-heading">How to use The Four Lenses</h2>
        <div class="usage-grid">
          <div class="usage-item">
            <h3 class="usage-step">1. While building</h3>
            <p class="usage-desc">
              Apply the lenses as you build, not after. Shift left. The earlier
              you ask these questions, the less you have to fix later.
            </p>
          </div>
          <div class="usage-item">
            <h3 class="usage-step">2. Before you adopt</h3>
            <p class="usage-desc">
              Run any new AI tool through all four lenses before deploying to
              your team. Surface the risks early. Decide with open eyes.
            </p>
          </div>
          <div class="usage-item">
            <h3 class="usage-step">3. During rollout</h3>
            <p class="usage-desc">
              Pilot with willing team members. Collect feedback against each
              lens. Watch for red flags. Adjust before scaling.
            </p>
          </div>
          <div class="usage-item">
            <h3 class="usage-step">4. Ongoing</h3>
            <p class="usage-desc">
              Revisit quarterly. Tools change. Teams change. What passed six
              months ago might fail today. Keep asking the questions.
            </p>
          </div>
        </div>
        <div class="back-link-wrap">
          <a href="/frameworks" class="back-link link">Back to Frameworks</a>
        </div>
      </div>
    </section>
  </article>
</PageLayout>

<style>
  .lenses-title {
    font-family: var(--font-heading);
    font-size: var(--text-4xl);
    line-height: 1.1;
  }

  .lenses-lede {
    font-size: var(--text-xl);
    line-height: 1.5;
    color: var(--color-text-secondary);
    max-width: 36rem;
    margin-bottom: var(--space-md);
  }

  .lens-header {
    margin-bottom: var(--space-lg);
  }

  .lens-number {
    font-size: var(--text-xs);
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--color-gold-dark);
  }

  .lens-name {
    font-family: var(--font-heading);
    font-size: var(--text-3xl);
    margin-top: var(--space-2xs);
    margin-bottom: var(--space-sm);
  }

  .lens-name-light {
    color: var(--color-cream);
  }

  .lens-core {
    font-size: var(--text-lg);
    font-style: italic;
    color: var(--color-text-secondary);
    max-width: 36rem;
  }

  .lens-core-light {
    color: var(--color-gray-light);
  }

  .lens-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: var(--space-xl);
  }

  .lens-subhead {
    font-family: var(--font-heading);
    font-size: var(--text-lg);
    font-weight: 700;
    margin-bottom: var(--space-sm);
  }

  .lens-subhead-light {
    color: var(--color-cream);
  }

  .lens-subhead-warn {
    color: var(--color-gold-dark);
  }

  .lens-list {
    list-style: none;
    padding: 0;
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
  }

  .lens-list li {
    font-size: var(--text-sm);
    line-height: 1.6;
    color: var(--color-text-secondary);
    padding-left: var(--space-md);
    position: relative;
  }

  .lens-list li::before {
    content: '';
    position: absolute;
    left: 0;
    top: 0.6em;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: var(--color-gold);
  }

  .lens-list-light li {
    color: var(--color-gray-light);
  }

  .lens-list-warn li::before {
    background: var(--color-gold-dark);
    border-radius: 0;
    width: 8px;
    height: 2px;
    top: 0.75em;
  }

  .principle-container {
    text-align: center;
  }

  .principle-text {
    font-family: var(--font-heading);
    font-size: var(--text-3xl);
    line-height: 1.2;
    color: var(--color-black);
    max-width: 30rem;
    margin: 0 auto var(--space-md);
  }

  .principle-sub {
    font-size: var(--text-base);
    color: var(--color-black);
    opacity: 0.8;
    max-width: 28rem;
    margin: 0 auto;
    line-height: 1.6;
  }

  .usage-heading {
    font-family: var(--font-heading);
    font-size: var(--text-2xl);
  }

  .usage-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: var(--space-lg);
  }

  .usage-step {
    font-family: var(--font-heading);
    font-size: var(--text-lg);
    font-weight: 700;
    margin-bottom: var(--space-xs);
  }

  .usage-desc {
    font-size: var(--text-sm);
    line-height: 1.6;
    color: var(--color-text-secondary);
  }

  .back-link-wrap {
    margin-top: var(--space-xl);
  }

  .back-link {
    font-size: var(--text-base);
    font-weight: 500;
  }

  @media (max-width: 768px) {
    .lens-content {
      grid-template-columns: 1fr;
      gap: var(--space-lg);
    }

    .usage-grid {
      grid-template-columns: 1fr;
      gap: var(--space-md);
    }
  }
</style>
